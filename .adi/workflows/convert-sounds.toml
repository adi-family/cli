# ADI Web App Sound Conversion Workflow
# Converts raw audio files to web-optimized formats (MP3 + OGG)

[workflow]
name = "convert-sounds"
description = "Convert raw audio files to web-optimized MP3 and OGG formats"

[[inputs]]
name = "preset"
type = "select"
prompt = "Select audio preset"
options = [
    "web-sfx - Web UI sound effects (-10 LUFS, punchy)",
    "web-notification - Notifications (-16 LUFS, moderate)",
    "game-sfx - Game sound effects (-12 LUFS)",
    "ringtone - Ringtones (-8 LUFS, loud)",
]
default = "web-sfx - Web UI sound effects (-10 LUFS, punchy)"

[[inputs]]
name = "source_dir"
type = "input"
prompt = "Source directory (raw sounds)"
default = "apps/web-app/public/raw_sounds"

[[inputs]]
name = "output_dir"
type = "input"
prompt = "Output directory"
default = "apps/web-app/public/sounds"

[[steps]]
name = "Convert audio files"
run = """
PRESET="{{ preset | split(' ') | first }}"
SOURCE_DIR="{{ source_dir }}"
OUTPUT_DIR="{{ output_dir }}"

"$WORKFLOWS_DIR/convert-sounds.sh" "$PRESET" "$SOURCE_DIR" "$OUTPUT_DIR"
"""
