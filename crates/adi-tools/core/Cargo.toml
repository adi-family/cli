[package]
name = "adi-tools-core"
version = "0.1.0"
edition = "2021"
license = "BSL-1.0"
authors = ["ADI Team"]
description = "Core library for tool index - searchable CLI tool discovery"

[dependencies]
thiserror = "2"
tokio = { version = "1.49", features = ["full", "process"] }
async-trait = "0.1"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
rusqlite = { version = "0.31", features = ["bundled"] }
dirs = "5"
tracing = "0.1"
sha2 = "0.10"
hex = "0.4"
chrono = { version = "0.4", features = ["serde"] }
walkdir = "2.5"
regex = "1"

# Plugin discovery (optional, for scanning ADI plugins)
lib-plugin-manifest = { path = "../../lib/lib-plugin-manifest", optional = true }

# Embedding (optional, for semantic search)
lib-embed = { path = "../../lib/lib-embed", optional = true }

[features]
default = ["plugin-discovery"]
plugin-discovery = ["lib-plugin-manifest"]
semantic-search = ["lib-embed"]

[dev-dependencies]
tempfile = "3"
